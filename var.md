# 声明

在js中,声明通过`const`或`let`或`var`或不带关键字的方式来声明.


## 变量

在go中,变量的声明通过`var`,由于go是强类型语言,同时还要声明该变量的类型.声明时赋初始值,也可以不赋值.js中不赋值默认值为undefined,而go中,则为变量的类型的`零值`.

```js
//js
let a // undefined
```
```go
//go
var a int    // 0
var b string // ""
var c bool   // false
var d int = 3 // 3
```
如果显示的提供初始值,则可以省略类型,由编译器推断.

对于多个变量的声明,有一下差别
```js
//js
let a, b, c = d = 2
// undefined undefined 2 2
```
```go
//go
var (
    x, y int // x = y = 0
    n, m = 2,3 //  n = 2, m = 3
)
```

go的逗号模式对于两个值的交换很容易做到
```js
//js
[a, b] = [b, a]
```
```go
//go
n, m = m, n
```

go中声明变量还有简短模式,  通过 变量名 `:=` 值 的形式, 不需要 `var` 关键字. 此方式是一种声明的方式,会覆盖全局的同名变量
```go
//go
n, m := 10, "go"
```
简短模式有以下限制:
- 必须显示初始化变量
- 不能提供类型
- 只能用在函数内部

同一个作用域一个变量不能声明两次, 且没有变量提升这点和 `let` 很像.

对于以下场景不报错
```go
x :=10
x, y:=20,20
```
是因为这是一个赋值操作, 叫退化赋值,需要满足: **至少有一个新变量被定义,且必须是同一作用域**

go中声明过的变量必须要使用,否则会报错.

## 常量

js中的常量表示一个值的内存地址不可改变, 而往往在声明的常量是引用类型时,js是可以该变这个常量的属性的

在go中,常量只能是基础类型,限制在数字,字符,字符串,或布尔值,或者可以被编译器立即求值的值或表达式.

```go
const (
    v = 1 << 3
    b = 1/2
)
```
常量在运行时无法取地址, 是直接在编译器预处理阶段直接作为指令数据来使用